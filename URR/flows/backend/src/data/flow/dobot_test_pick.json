{
  "id": "dobot_test_pick",
  "name": "DOBOT Test Pick (Nova 5)",
  "initial_state": "midair",
  "loop": false,
  "variables": {
    "midair_joints": [152.345, -17.610, 87.397, 50.315, 2.243, 10.032],
    "pick_joints":   [152.345, -32.610, 72.397, 50.315, 2.243, 10.032]
  },
  "states": [
    {
      "name": "midair",
      "steps": [
        {
          "id": "go_midair",
          "skill": "move_joint",
          "executor": "robot",
          "params": { "target_joints_deg": "{{midair_joints}}" },
          "timeout_ms": 30000
        }
      ]
    },
    {
      "name": "pick",
      "steps": [
        {
          "id": "move_to_pick",
          "skill": "move_joint",
          "executor": "robot",
          "params": { "target_joints_deg": "{{pick_joints}}" },
          "timeout_ms": 30000
        },
        {
          "id": "open_gripper",
          "skill": "set_tool_output",
          "executor": "robot",
          "params": { "index": 2, "status": 1 },
          "timeout_ms": 3000
        },
        {
          "id": "close_gripper",
          "skill": "set_tool_output",
          "executor": "robot",
          "params": { "index": 1, "status": 1 },
          "timeout_ms": 3000
        }
      ]
    },
    {
      "name": "return_midair",
      "steps": [
        {
          "id": "go_midair_return",
          "skill": "move_joint",
          "executor": "robot",
          "params": { "target_joints_deg": "{{midair_joints}}" },
          "timeout_ms": 30000
        }
      ]
    }
  ],
  "transitions": [
    {
      "type": "sequential",
      "from_state": "midair",
      "to_state": "pick"
    },
    {
      "type": "sequential",
      "from_state": "pick",
      "to_state": "return_midair"
    }
  ]
}
