{
  "id": "hand_pick_and_place",
  "name": "Hand Pick and Place (COVVI)",
  "initial_state": "home",
  "loop": true,
  "variables": {
    "midair_joints": [-11.3, -77.6, -105.3, 343.2, 81.8, -352.3],
    "pick_joints":   [-2.6, -109.6, -115.7, 340.7, 81.4, -349.2]
  },
  "states": [
    {
      "name": "home",
      "steps": [
        {
          "id": "open_hand_home",
          "skill": "set_grip",
          "executor": "hand",
          "params": { "grip": "RELAXED" },
          "timeout_ms": 5000
        },
        {
          "id": "go_home",
          "skill": "move_joint",
          "executor": "robot",
          "params": { "target_joints_deg": "{{midair_joints}}" },
          "timeout_ms": 30000
        }
      ]
    },
    {
      "name": "pick",
      "steps": [
        {
          "id": "move_to_pick",
          "skill": "move_joint",
          "executor": "robot",
          "params": { "target_joints_deg": "{{pick_joints}}" },
          "timeout_ms": 30000
        },
        {
          "id": "grip_object",
          "skill": "grip_until_contact",
          "executor": "hand",
          "params": {
            "speed": 25,
            "fingers": ["thumb", "index", "middle", "little"],
            "min_contacts": 2,
            "timeout_s": 5.0
          },
          "store_result": "grip_result",
          "timeout_ms": 10000
        }
      ]
    },
    {
      "name": "retract",
      "steps": [
        {
          "id": "go_midair_retract",
          "skill": "move_joint",
          "executor": "robot",
          "params": { "target_joints_deg": "{{midair_joints}}" },
          "timeout_ms": 30000
        }
      ]
    }
  ],
  "transitions": [
    {
      "type": "sequential",
      "from_state": "home",
      "to_state": "pick"
    },
    {
      "type": "sequential",
      "from_state": "pick",
      "to_state": "retract"
    }
  ]
}
